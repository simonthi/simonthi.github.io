<!DOCTYPE html>
<html>
    <head>
        <title>Test device acceleration</title>
        <meta charset="UTF-8" />
    </head>

    <body onclick="run()" style="font-size: 200px;">
        <div id="x">x</div>
        <div id="y">y</div>
        <div id="z">z</div>

        <script type="text/javascript">
           function  run(){



                DeviceMotionEvent.requestPermission()
                    .then(response => {
                    if (response == 'granted') {
                        window.addEventListener('devicemotion', (e) => {
                            // do something with e

                            function handleMotionEvent(event) {

                                const x = e.accelerationIncludingGravity.x;
                                const y = e.accelerationIncludingGravity.y;
                                const z = e.accelerationIncludingGravity.z;

                                // Do something awesome.

                                document.getElementById("x").innerHTML = ""+x+"";
                            }
                            window.addEventListener("devicemotion", handleMotionEvent, true);
                        })
                    }
                })
                    .catch(console.error)


                document.getElementById("y").innerHTML = "yikes";
                window.ondevicemotion = function(event) {
                    document.getElementById("x").innerHTML = event.acceleration.x;
                    document.getElementById("y").innerHTML = "y:" + `${event.acceleration.x} m/s2` + "";
                    document.getElementById("z").innerHTML = "z:" + event.acceleration.z + "";
                };
            }
        </script>
    </body>
</html>